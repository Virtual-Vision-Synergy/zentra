==========================================
DIAGRAMME DE BASE DE DONNÉES - GESTION RH
==========================================

LÉGENDE:
  PK = Primary Key (Clé primaire)
  FK = Foreign Key (Clé étrangère)
  UK = Unique Key (Clé unique)
  * = Champ obligatoire (NOT NULL)

==========================================
TABLES DE RÉFÉRENCE
==========================================

┌─────────────────────────────┐
│        DEPARTEMENT          │
├─────────────────────────────┤
│ PK id_departement           │
│  * nom_departement (UK)     │
│    description              │
│    budget_annuel            │
│  * date_creation            │
│  * actif                    │
└─────────────────────────────┘
         │
         │ (1:N)
         ▼
┌─────────────────────────────┐
│           POSTE             │
├─────────────────────────────┤
│ PK id_poste                 │
│  * titre_poste              │
│ FK id_departement           │
│    description_poste        │
│  * salaire_min              │
│  * salaire_max              │
│    niveau_experience_requis │
│    diplome_requis           │
│    competences_requises     │
│  * date_creation            │
│  * actif                    │
└─────────────────────────────┘
         │
         │ (1:N)
         ▼

==========================================
PROCESSUS DE RECRUTEMENT
==========================================

┌─────────────────────────────┐
│      ANNONCE_EMPLOI         │
├─────────────────────────────┤
│ PK id_annonce               │
│ FK id_poste                 │
│  * titre_annonce            │
│  * description              │
│    type_contrat             │
│    lieu_travail             │
│  * date_publication         │
│    date_cloture             │
│  * nombre_postes            │
│  * statut                   │
│    canaux_publication       │
└─────────────────────────────┘
         │
         │ (1:N)
         ▼
┌─────────────────────────────┐     ┌─────────────────────────────┐
│         CANDIDAT            │     │       CANDIDATURE           │
├─────────────────────────────┤     ├─────────────────────────────┤
│ PK id_candidat              │     │ PK id_candidature           │
│  * nom                      │◄────┤ FK id_candidat              │
│  * prenom                   │     │ FK id_annonce               │
│  * email (UK)               │     │  * date_candidature         │
│    telephone                │     │  * statut                   │
│  * date_naissance           │     │    score_initial            │
│    adresse                  │     │    commentaire_initial      │
│    ville                    │     │  * date_derniere_modif      │
│  * pays                     │     └─────────────────────────────┘
│    niveau_etudes            │              │
│    dernier_diplome          │              │ (1:N)
│    annee_obtention_diplome  │              ▼
│  * annees_experience        │     ┌─────────────────────────────┐
│    competences              │     │     TEST_EVALUATION         │
│    cv_fichier               │     ├─────────────────────────────┤
│    lettre_motivation        │     │ PK id_test                  │
│  * date_inscription         │     │ FK id_candidature           │
│  * statut_global            │     │  * type_test                │
└─────────────────────────────┘     │  * nom_test                 │
         │                          │    description              │
         │                          │  * date_test                │
         │ (peut devenir)           │    heure_debut              │
         │ (1:0..1)                 │    heure_fin                │
         ▼                          │    duree_minutes            │
                                    │    score_obtenu             │
                                    │    score_requis             │
                                    │    reussi                   │
                                    │    commentaire              │
                                    │    evaluateur               │
                                    └─────────────────────────────┘
                                             │
                                             │ (1:N)
                                             ▼
                                    ┌─────────────────────────────┐
                                    │        ENTRETIEN            │
                                    ├─────────────────────────────┤
                                    │ PK id_entretien             │
                                    │ FK id_candidature           │
                                    │  * type_entretien           │
                                    │  * date_entretien           │
                                    │  * heure_debut              │
                                    │    heure_fin                │
                                    │    duree_minutes            │
                                    │    lieu                     │
                                    │  * intervieweurs            │
                                    │  * statut                   │
                                    │    compte_rendu             │
                                    │  * date_creation            │
                                    └─────────────────────────────┘
                                             │
                                             │ (1:0..N)
                                             ▼
                                    ┌─────────────────────────────┐
                                    │   RESULTAT_EVALUATION       │
                                    ├─────────────────────────────┤
                                    │ PK id_resultat              │
                                    │ FK id_candidature           │
                                    │ FK id_entretien             │
                                    │  * evaluateur               │
                                    │  * date_evaluation          │
                                    │    score_competences_tech   │
                                    │    score_experience         │
                                    │    score_formation          │
                                    │    score_soft_skills        │
                                    │    score_motivation         │
                                    │    score_adequation_poste   │
                                    │    score_total              │
                                    │    decision                 │
                                    │    commentaire              │
                                    │    points_forts             │
                                    │    points_amelioration      │
                                    └─────────────────────────────┘

==========================================
GESTION DES EMPLOYÉS
==========================================

┌─────────────────────────────┐
│          EMPLOYE            │
├─────────────────────────────┤
│ PK id_employe               │
│ FK id_candidat (origine)    │
│  * matricule (UK)           │
│  * nom                      │
│  * prenom                   │
│  * email_professionnel (UK) │
│    telephone_professionnel  │
│  * date_naissance           │
│    sexe                     │
│    adresse                  │
│    ville                    │
│  * pays                     │
│ FK id_poste                 │
│ FK id_departement           │
│  * date_embauche            │
│  * type_contrat             │
│  * statut_employe           │
│  * salaire_base             │
│  * devise                   │
│    numero_securite_sociale  │
│    numero_compte_bancaire   │
│    date_fin_contrat         │
│  * date_creation            │
│  * date_derniere_modif      │
└─────────────────────────────┘
         │
         │ (1:N)
         ▼
┌─────────────────────────────┐
│      CONTRAT_TRAVAIL        │
├─────────────────────────────┤
│ PK id_contrat               │
│ FK id_employe               │
│  * type_contrat             │
│  * numero_contrat (UK)      │
│  * date_debut               │
│    date_fin                 │
│    duree_essai_mois         │
│  * essai_renouvelable       │
│  * essai_renouvele          │
│    date_renouvellement      │
│  * salaire_brut             │
│  * primes_annuelles         │
│    avantages                │
│  * heures_hebdomadaires     │
│  * jours_conges_annuels     │
│  * statut                   │
│    motif_fin_contrat        │
│    date_signature           │
│    fichier_contrat          │
└─────────────────────────────┘

         │
         │ (1:N)
         ▼
┌─────────────────────────────┐
│   AFFILIATION_SOCIALE       │
├─────────────────────────────┤
│ PK id_affiliation           │
│ FK id_employe               │
│  * type_affiliation         │
│  * organisme                │
│  * numero_affiliation       │
│  * date_affiliation         │
│    date_fin_affiliation     │
│  * statut                   │
│    cotisation_mensuelle     │
│    commentaire              │
└─────────────────────────────┘

==========================================
VUES POUR REPORTING
==========================================

VIEW: v_statistiques_recrutement
  - Statistiques par poste et département
  - Nombre de candidatures, présélections, acceptations
  - Score moyen des candidatures

VIEW: v_employes_actifs
  - Liste des employés actifs
  - Informations complètes (poste, département, salaire)
  - Ancienneté calculée automatiquement

VIEW: v_contrats_essai
  - Contrats d'essai en cours
  - Dates de début et fin
  - Statut de renouvellement

==========================================
FLUX DE DONNÉES - PROCESSUS COMPLET
==========================================

1. RECRUTEMENT
   POSTE → ANNONCE_EMPLOI → CANDIDAT → CANDIDATURE
        → TEST_EVALUATION → ENTRETIEN → RESULTAT_EVALUATION

2. TRANSFORMATION (Candidat → Employé)
   CANDIDAT → EMPLOYE

3. CONTRACTUALISATION
   EMPLOYE → CONTRAT_TRAVAIL

4. AFFILIATIONS
   EMPLOYE → AFFILIATION_SOCIALE (multiple)

==========================================
INDICES DE PERFORMANCE
==========================================

Sur CANDIDAT:
  - idx_candidat_email
  - idx_candidat_statut

Sur CANDIDATURE:
  - idx_candidature_statut
  - idx_candidature_date

Sur ANNONCE_EMPLOI:
  - idx_annonce_statut
  - idx_annonce_date_pub

Sur EMPLOYE:
  - idx_employe_matricule
  - idx_employe_statut
  - idx_employe_departement

Sur CONTRAT_TRAVAIL:
  - idx_contrat_type
  - idx_contrat_statut

==========================================
FIN DU DIAGRAMME
==========================================
